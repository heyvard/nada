"use strict";(self.webpackChunknada=self.webpackChunknada||[]).push([[851],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||o;return n?a.createElement(h,i(i({ref:t},p),{},{components:n})):a.createElement(h,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5377:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return u}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=["components"],s={title:"Getting started",sidebar_position:0},l=void 0,c={unversionedId:"process-data/gcp/getting-started",id:"process-data/gcp/getting-started",isDocsHomePage:!1,title:"Getting started",description:"We are working on creating a modern analytics platform on GCP (Google Cloud Platform) where we want to utilize all the",source:"@site/docs/process-data/gcp/getting-started.md",sourceDirName:"process-data/gcp",slug:"/process-data/gcp/getting-started",permalink:"/nada/process-data/gcp/getting-started",editUrl:"https://github.com/navikt/nada/edit/master/docs/process-data/gcp/getting-started.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{title:"Getting started",sidebar_position:0},sidebar:"docs",previous:{title:"Postgres",permalink:"/nada/process-data/dataverk/settings/postgres"},next:{title:"Cloud Function",permalink:"/nada/process-data/gcp/bigquery/cloud-function"}},p=[{value:"Projects",id:"projects",children:[{value:"On-demand project",id:"on-demand-project",children:[]}]},{value:"Culture",id:"culture",children:[{value:"Should",id:"should",children:[]},{value:"Should not",id:"should-not",children:[]}]},{value:"Backup (TODO)",id:"backup-todo",children:[]}],d={toc:p};function u(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"We are working on creating a modern analytics platform on GCP (Google Cloud Platform) where we want to utilize all the\ntools, frameworks, and resources the Google Cloud Platform offers. So far we have been focusing on\n",(0,o.kt)("a",{parentName:"p",href:"/nada/process-data/gcp/notebooks"},"Jupyter Notebook"),", and ",(0,o.kt)("a",{parentName:"p",href:"/nada/process-data/gcp/pipelines/cloud-composer"},"Cloud Composer"),".   "),(0,o.kt)("p",null,"On GCP you work in what is called projects, and each ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/navikt/teams/blob/main/teams.yml"},"team")," has their\nown project. Hence, the easiest way to get started is to become a member of a team and work in their GCP project."),(0,o.kt)("p",null,"Should you have a need for a private GCP project we offer users the option to create their own ",(0,o.kt)("em",{parentName:"p"},"on-demand"),"-projects. These\nprojects are intended to be temporary, for a specific analysis you are working on, and the analytics products created in these\nprojects should be transferred to a team project eventually."),(0,o.kt)("h2",{id:"projects"},"Projects"),(0,o.kt)("p",null,"To view which projects you are currently a member of, go to\n",(0,o.kt)("a",{parentName:"p",href:"https://console.cloud.google.com/billing/projects?project=&folder=&organizationId=139592330668"},"GCP Billing"),"."),(0,o.kt)("p",null,"To access a team project, go to ",(0,o.kt)("a",{parentName:"p",href:"https://console.cloud.google.com/projectselector2/home/dashboard"},"GCP Dashboard")," and\nchoose your team under ",(0,o.kt)("strong",{parentName:"p"},"select project"),"."),(0,o.kt)("h3",{id:"on-demand-project"},"On-demand project"),(0,o.kt)("p",null,"In order to create your own ",(0,o.kt)("em",{parentName:"p"},"on-demand"),"-project, you add a new object in the file\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/navikt/knada-on-demand-projects/blob/main/terraform/on-demand.tf"},(0,o.kt)("inlineCode",{parentName:"a"},"terraform/on-demand.tf")),"\nand create a Pull Request."),(0,o.kt)("p",null,"The information we need is the name of the project (e.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"team-analysis"),"), and the email of the user requesting access."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The project name must be unique!"))),(0,o.kt)("p",null,"In the file ",(0,o.kt)("inlineCode",{parentName:"p"},"terraform/on-demand.td")," you add the following under ",(0,o.kt)("inlineCode",{parentName:"p"},"locals.projects"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n  name  = "your-project-name",\n  email = "your-nav-email@nav.no"\n}\n')),(0,o.kt)("p",null,"The result should look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'locals {\n  projects = [\n    {\n      name = "your-project-name",\n      email = "your-nav-email@nav.no"\n    }\n  ]\n}\n')),(0,o.kt)("p",null,"These projects gives the user the same roles and accesses as in a NAIS team project, in addition to the roles one need in\norder to use ",(0,o.kt)("a",{parentName:"p",href:"/nada/process-data/gcp/notebooks"},"Jupyter Notebooks"),". Should you need to use additional API's and services on GCP, you need\nto grant yourself access to these. View ",(0,o.kt)("a",{parentName:"p",href:"https://doc.nais.io/basics/teams/#access-management"},"doc.nais.io")," for\nGCP access management documentation."),(0,o.kt)("h2",{id:"culture"},"Culture"),(0,o.kt)("p",null,"In order to achieve the best possible analytics platform, there are som guidelines the users should follow. "),(0,o.kt)("h3",{id:"should"},"Should"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Use temporary access to data"),(0,o.kt)("li",{parentName:"ul"},"Use temporary tokens (between user and data)"),(0,o.kt)("li",{parentName:"ul"},"Ensure that data transformations are code based, with tests, version control, and documentation (using e.g. dbt or similar tools)"),(0,o.kt)("li",{parentName:"ul"},"Keep track of who accesses what data")),(0,o.kt)("h3",{id:"should-not"},"Should not"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Use personal long-term credentials")),(0,o.kt)("h2",{id:"backup-todo"},"Backup (TODO)"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"P\xe5 grunn av de potensielle s\xe5rbarhetene m\xe5 brukerne gj\xf8res oppmerksomme p\xe5 deres ansvar. Restrisiko aksepteres gitt at dokumentasjon gjenspeiler at team m\xe5 ta ansvar for backup, v\xe6re n\xf8ye med tilganger, og ta n\xf8dvendige grep for \xe5 sikre at kritiske tjenester ikke har GCP/internett som en single point of failure.")))}u.isMDXComponent=!0}}]);
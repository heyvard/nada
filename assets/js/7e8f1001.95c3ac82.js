"use strict";(self.webpackChunknada=self.webpackChunknada||[]).push([[416],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return m}});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=r.createContext({}),p=function(e){var t=r.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=p(a),m=n,f=u["".concat(c,".").concat(m)]||u[m]||l[m]||o;return a?r.createElement(f,i(i({ref:t},d),{},{components:a})):r.createElement(f,i({ref:t},d))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var p=2;p<o;p++)i[p]=a[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},7860:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return c},metadata:function(){return p},toc:function(){return d},default:function(){return u}});var r=a(7462),n=a(3366),o=(a(7294),a(3905)),i=["components"],s={title:"Publish data packages from GCP projects"},c=void 0,p={unversionedId:"process-data/dataverk/publish-from-gcp",id:"process-data/dataverk/publish-from-gcp",isDocsHomePage:!1,title:"Publish data packages from GCP projects",description:"When setting up on-demand GCP projects some",source:"@site/docs/process-data/dataverk/publish-from-gcp.md",sourceDirName:"process-data/dataverk",slug:"/process-data/dataverk/publish-from-gcp",permalink:"/nada/process-data/dataverk/publish-from-gcp",editUrl:"https://github.com/navikt/nada/edit/master/docs/process-data/dataverk/publish-from-gcp.md",tags:[],version:"current",frontMatter:{title:"Publish data packages from GCP projects"},sidebar:"docs",previous:{title:"Metadata",permalink:"/nada/process-data/dataverk/metadata"},next:{title:"Settings file",permalink:"/nada/process-data/dataverk/settings/README"}},d=[],l={toc:d};function u(e){var t=e.components,a=(0,n.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"When setting up ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/navikt/knada-on-demand-projects"},"on-demand GCP projects")," some\ndataverk configuration is automatically stored as secrets in ",(0,o.kt)("a",{parentName:"p",href:"https://cloud.google.com/secret-manager/docs"},"Google Secret Manager"),"\nin the created project. These configuration values needs to be imported and set as environment variables\nin order to use dataverk to publish data packages from GCP."),(0,o.kt)("p",null,"To simplify this, we have developed a python library ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/navikt/dataverk-gsm"},"dataverk-gsm"),"\nwhich can be used as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-python"},"from dataverk_gsm import api as gsm_api\n\ngsm_api.set_secrets_as_envs()\n")),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"In order to publish data packages to the internal data catalog from GCP projects it is required that installed\nversion of dataverk is >=0.4.4"))))}u.isMDXComponent=!0}}]);